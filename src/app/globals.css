@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 96%; /* Light mode: #F5F5F5 equivalent */
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --primary: 262 83% 58%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 262 83% 58%;
    --radius: 0.5rem;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --primary: 263 70% 65%;
    --primary-foreground: 222.2 47.4% 11.2%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 263 70% 65%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
  }
}

html {
  scroll-behavior: smooth;
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  @apply bg-secondary/30;
}

::-webkit-scrollbar-thumb {
  @apply bg-primary/40 rounded-full;
  transition: background 0.2s;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-primary/60;
}

/* Glassmorphism effect */
.glass {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.dark .glass {
  background: rgba(0, 0, 0, 0.2);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Gradient text */
.gradient-text {
  @apply bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 bg-clip-text text-transparent;
}

/* Light mode: darker neon shades for better visibility */
.light .gradient-text {
  @apply bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent;
}

/* Animated gradient background */
.gradient-bg {
  background: linear-gradient(
    -45deg,
    rgba(99, 102, 241, 0.1),
    rgba(168, 85, 247, 0.1),
    rgba(236, 72, 153, 0.1),
    rgba(59, 130, 246, 0.1)
  );
  background-size: 400% 400%;
  animation: gradient 15s ease infinite;
}

@keyframes gradient {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

/* Subtle hover glow - premium sci-fi aesthetic */
.card-hover,
.hover-glow {
  @apply transition-all duration-300;
}

.card-hover:hover,
.hover-glow:hover {
  filter: drop-shadow(0 0 8px rgba(120, 97, 255, 0.25)) !important;
  transform: translateY(-2px) !important;
}

/* Soft button hover effects - no overpowering neon */
button:hover,
a[class*="button"]:hover,
.btn:hover {
  filter: drop-shadow(0 0 6px rgba(120, 97, 255, 0.2));
}

button:active,
a[class*="button"]:active,
.btn:active {
  transform: scale(0.98);
}

/* Smooth transitions for interactive elements */
button,
a,
.card-hover,
.cursor-pointer,
.hover-glow {
  transition: transform 0.2s ease, filter 0.3s ease;
}

/* Section padding */
.section-padding {
  @apply py-20 px-4 sm:px-6 lg:px-8;
}

/* Container */
.container-custom {
  @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
}

/* Fade in on scroll */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.fade-in-up {
  animation: fadeInUp 0.6s ease-out;
}

/* Smooth transitions */
* {
  @apply transition-colors duration-200;
}

/* Focus styles */
:focus-visible {
  @apply outline-none ring-2 ring-primary ring-offset-2 ring-offset-background rounded;
}

/* Selection */
::selection {
  @apply bg-primary/20 text-primary;
}

/* Transmission Pulse Effect - Smooth AI Reactor Surge
 * 
 * Keyframes Explanation:
 * - transmitShake: Smooth camera micro-shake using translate3d for GPU acceleration.
 *   Uses translate3d instead of position/translate to trigger hardware acceleration
 *   and avoid layout reflow. Random micro-variations (3-8px range) create natural
 *   haptic feedback feel without feeling glitchy.
 * - transmitPulse: Subtle blur + brightness pulse during transmission surge.
 * - glowPulse: Neon glow flash behind button for visual feedback.
 * 
 * Reduced Motion Fallback:
 * - Detected via @media (prefers-reduced-motion: reduce)
 * - Skips shake entirely, only shows subtle glow pulse
 * - Ensures accessibility compliance
 */
@keyframes transmitShake {
  0% {
    transform: translate3d(0, 0, 0);
  }
  15% {
    transform: translate3d(3px, -3px, 0);
  }
  30% {
    transform: translate3d(-4px, 2px, 0);
  }
  50% {
    transform: translate3d(2px, -2px, 0);
  }
  70% {
    transform: translate3d(-2px, 1px, 0);
  }
  100% {
    transform: translate3d(0, 0, 0);
  }
}

@keyframes transmitPulse {
  0%, 100% {
    filter: brightness(1) blur(0px);
  }
  30% {
    filter: brightness(1.08) blur(0.5px);
  }
  60% {
    filter: brightness(1.04) blur(0.3px);
  }
}

@keyframes glowPulse {
  0% {
    box-shadow: 
      0 0 20px rgba(34, 211, 238, 0.4),
      0 0 40px rgba(139, 92, 246, 0.3);
    opacity: 0;
  }
  50% {
    box-shadow: 
      0 0 40px rgba(34, 211, 238, 0.8),
      0 0 80px rgba(139, 92, 246, 0.6),
      inset 0 0 30px rgba(34, 211, 238, 0.2);
    opacity: 1;
  }
  100% {
    box-shadow: 
      0 0 20px rgba(34, 211, 238, 0.4),
      0 0 40px rgba(139, 92, 246, 0.3);
    opacity: 0;
  }
}

/* Transmission shockwave effect - smooth pulse */
.screen-shockwave {
  animation: 
    transmitShake 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) both,
    transmitPulse 0.3s ease-out both;
  will-change: transform, filter;
}

/* Button glow pulse during transmission */
.transmit-pulse {
  animation: glowPulse 0.25s ease-out;
}

/* Disable shake if user prefers reduced motion - show glow only */
@media (prefers-reduced-motion: reduce) {
  .screen-shockwave {
    animation: transmitPulse 0.25s ease-out both !important;
  }
  
  .screen-shockwave * {
    animation: none !important;
  }
}

/* ========================================
   Apple Vision Pro-style Scroll Transitions
   Spatial depth with blur-to-focus reveal
   ======================================== */

@keyframes visionLiftIn {
  0% {
    opacity: 0;
    transform: translateY(20px) scale(0.98);
    filter: blur(8px) brightness(0.9);
  }
  50% {
    filter: blur(2px) brightness(0.95);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
    filter: blur(0px) brightness(1);
  }
}

@keyframes visionGlow {
  0% {
    box-shadow: 
      0 0 0px rgba(139, 92, 246, 0),
      0 0 0px rgba(6, 182, 212, 0),
      inset 0 0 0px rgba(139, 92, 246, 0);
  }
  50% {
    box-shadow: 
      0 10px 40px rgba(139, 92, 246, 0.15),
      0 5px 20px rgba(6, 182, 212, 0.1),
      inset 0 1px 2px rgba(139, 92, 246, 0.05);
  }
  100% {
    box-shadow: 
      0 5px 20px rgba(139, 92, 246, 0.08),
      0 2px 10px rgba(6, 182, 212, 0.05),
      inset 0 1px 1px rgba(139, 92, 246, 0.03);
  }
}

@keyframes visionLightSweep {
  0% {
    background-position: -100% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

/* Vision Section base state - hidden before scroll into view */
.vision-section {
  opacity: 0;
  position: relative;
  /* Only add will-change when actually animating */
}

.vision-section.vision-visible {
  will-change: transform, opacity;
}

/* Ensure first section (Hero) is immediately visible */
.vision-section:first-of-type {
  opacity: 1;
}

/* Vision Section visible state - animate in */
.vision-section.vision-visible {
  animation: 
    visionLiftIn 0.9s cubic-bezier(0.22, 1, 0.36, 1) forwards,
    visionGlow 1.2s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

/* Add subtle light sweep overlay on enter */
.vision-section.vision-visible::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    rgba(139, 92, 246, 0) 0%,
    rgba(139, 92, 246, 0.03) 50%,
    rgba(6, 182, 212, 0.02) 75%,
    rgba(139, 92, 246, 0) 100%
  );
  background-size: 200% 100%;
  animation: visionLightSweep 1.4s cubic-bezier(0.22, 1, 0.36, 1) forwards;
  pointer-events: none;
  z-index: 0;
  border-radius: inherit;
  opacity: 0.6;
}

/* Stagger children elements slightly for depth */
.vision-section.vision-visible > * {
  animation: visionLiftIn 0.9s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

.vision-section.vision-visible > *:nth-child(1) {
  animation-delay: 0ms;
}

.vision-section.vision-visible > *:nth-child(2) {
  animation-delay: 50ms;
}

.vision-section.vision-visible > *:nth-child(3) {
  animation-delay: 100ms;
}

.vision-section.vision-visible > *:nth-child(4) {
  animation-delay: 150ms;
}

.vision-section.vision-visible > *:nth-child(5) {
  animation-delay: 200ms;
}

/* Mobile: reduce motion intensity */
@media (max-width: 768px) {
  @keyframes visionLiftIn {
    0% {
      opacity: 0;
      transform: translateY(15px) scale(0.99);
      filter: blur(4px) brightness(0.95);
    }
    100% {
      opacity: 1;
      transform: translateY(0) scale(1);
      filter: blur(0px) brightness(1);
    }
  }

  .vision-section.vision-visible {
    animation-duration: 0.7s;
  }

  .vision-section.vision-visible::before {
    opacity: 0.3;
  }
}

/* Reduced motion: fade only, no blur or transform */
@media (prefers-reduced-motion: reduce) {
  /* Disable all animations */
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  .vision-section {
    opacity: 1 !important;
    transform: none !important;
    filter: none !important;
    animation: none !important;
    will-change: auto !important;
  }

  .vision-section.vision-visible {
    animation: none !important;
  }

  .vision-section.vision-visible::before {
    display: none !important;
  }

  .vision-section.vision-visible > * {
    animation: none !important;
    opacity: 1 !important;
    transform: none !important;
  }
}

/* ========================================
   Magnetic Cursor + Parallax Tilt + Ripple
   Premium interactive effects
   ======================================== */

/* Ripple expansion animation */
@keyframes rippleOut {
  0% {
    width: 0;
    height: 0;
    opacity: 0.6;
    filter: blur(8px);
  }
  50% {
    opacity: 0.4;
    filter: blur(12px);
  }
  100% {
    width: 400px;
    height: 400px;
    opacity: 0;
    filter: blur(16px);
  }
}

/* Glow ripple element */
.glow-ripple {
  position: absolute;
  border-radius: 50%;
  background: radial-gradient(
    circle,
    var(--ripple-color, rgba(139, 92, 246, 0.4)) 0%,
    rgba(99, 102, 241, 0.3) 30%,
    rgba(6, 182, 212, 0.2) 60%,
    transparent 100%
  );
  pointer-events: none;
  transform: translate(-50%, -50%);
  animation: rippleOut 650ms cubic-bezier(0.22, 1, 0.36, 1) forwards;
  will-change: width, height, opacity, filter;
  z-index: 10;
}

/* Magnetic base class */
.magnetic {
  cursor: pointer;
  will-change: transform, filter;
  transition: transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1), filter 0.3s ease;
}

/* Tilt base class */
.tilt {
  transform-style: preserve-3d;
  perspective: 1000px;
}

/* Breathing glow on focus for buttons */
button:focus-visible,
a[class*="button"]:focus-visible,
.magnetic:focus-visible {
  outline: none;
  animation: breatheGlow 2s ease-in-out infinite;
}

@keyframes breatheGlow {
  0%, 100% {
    box-shadow: 
      0 0 20px rgba(139, 92, 246, 0.3),
      0 0 40px rgba(139, 92, 246, 0.1),
      inset 0 0 10px rgba(139, 92, 246, 0.1);
  }
  50% {
    box-shadow: 
      0 0 30px rgba(139, 92, 246, 0.5),
      0 0 60px rgba(139, 92, 246, 0.2),
      inset 0 0 15px rgba(139, 92, 246, 0.15);
  }
}

/* Ensure relative positioning for ripple container */
.magnetic[data-ripple],
button[data-ripple],
a[data-ripple] {
  position: relative;
  overflow: hidden;
}

/* Mobile: disable tilt, keep simple scale on tap */
@media (max-width: 768px) {
  .magnetic:active,
  .tilt:active {
    transform: scale(0.98);
    transition: transform 0.1s ease;
  }
}

/* Reduced motion: fallback to simple shadow */
@media (prefers-reduced-motion: reduce) {
  .magnetic {
    transition: box-shadow 0.3s ease !important;
    transform: none !important;
    will-change: auto !important;
  }

  .magnetic:hover {
    box-shadow: 0 10px 40px rgba(139, 92, 246, 0.3) !important;
  }

  .tilt {
    transform: none !important;
    perspective: none !important;
  }

  .glow-ripple {
    display: none !important;
  }

  @keyframes breatheGlow {
    0%, 100% {
      box-shadow: 0 0 20px rgba(139, 92, 246, 0.3);
    }
  }
}

/* VisionOS Volumetric Light Effects */
@keyframes breathe {
  0%, 100% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 0.5;
  }
  50% {
    transform: translate(-50%, -50%) scale(1.1);
    opacity: 0.7;
  }
}

@keyframes lightSweep {
  0% {
    transform: translateX(-100%) rotate(-45deg);
    opacity: 0;
  }
  50% {
    opacity: 0.6;
  }
  100% {
    transform: translateX(100%) rotate(-45deg);
    opacity: 0;
  }
}

@keyframes volumetricPulse {
  0%, 100% {
    filter: blur(60px) brightness(1);
    opacity: 0.4;
  }
  50% {
    filter: blur(80px) brightness(1.2);
    opacity: 0.6;
  }
}

.animate-breathe {
  animation: breathe 4s ease-in-out infinite;
}

.animate-light-sweep {
  animation: lightSweep 8s ease-in-out infinite;
}

.animate-volumetric-pulse {
  animation: volumetricPulse 3s ease-in-out infinite;
}

/* Glass edge sparkle effect */
@keyframes edgeSparkle {
  0%, 100% {
    box-shadow: 
      0 0 20px rgba(139, 92, 246, 0.3),
      inset 0 0 20px rgba(139, 92, 246, 0.1);
  }
  50% {
    box-shadow: 
      0 0 40px rgba(139, 92, 246, 0.5),
      inset 0 0 30px rgba(139, 92, 246, 0.2);
  }
}

.glass-edge-glow {
  position: relative;
}

.glass-edge-glow::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  padding: 1px;
  background: linear-gradient(135deg, rgba(139, 92, 246, 0.3), rgba(59, 130, 246, 0.3), transparent);
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events: none;
  animation: edgeSparkle 3s ease-in-out infinite;
}

/* Bokeh Floating Animations */
@keyframes floatUpDown {
  0%, 100% {
    transform: translate3d(0, 0, 0);
  }
  50% {
    transform: translate3d(0, -20px, 0);
  }
}

@keyframes floatLeftRight {
  0%, 100% {
    transform: translate3d(0, 0, 0);
  }
  50% {
    transform: translate3d(15px, 0, 0);
  }
}

@keyframes glowPulse {
  0%, 100% {
    opacity: 0.2;
  }
  50% {
    opacity: 1;
  }
}

@keyframes neuralFloat {
  0% {
    transform: translate3d(0, 0, 0) scale(1);
    opacity: 0.3;
  }
  25% {
    transform: translate3d(8px, -12px, 0) scale(1.05);
    opacity: 0.6;
  }
  50% {
    transform: translate3d(-5px, -20px, 0) scale(1);
    opacity: 0.8;
  }
  75% {
    transform: translate3d(-12px, -8px, 0) scale(0.95);
    opacity: 0.5;
  }
  100% {
    transform: translate3d(0, 0, 0) scale(1);
    opacity: 0.3;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  @keyframes floatUpDown,
  @keyframes floatLeftRight,
  @keyframes glowPulse,
  @keyframes neuralFloat {
    0%, 100% {
      transform: translate3d(0, 0, 0);
      opacity: 0.5;
    }
  }
}

/* Resume Download Button Animations */
@keyframes downloadPulse {
  0%, 100% {
    box-shadow: 
      0 0 10px rgba(139, 92, 246, 0.3),
      0 0 20px rgba(34, 211, 238, 0.2);
  }
  50% {
    box-shadow: 
      0 0 20px rgba(139, 92, 246, 0.6),
      0 0 40px rgba(34, 211, 238, 0.4),
      inset 0 0 15px rgba(139, 92, 246, 0.1);
  }
}

@keyframes downloadBadgeFade {
  0% {
    opacity: 0;
    transform: translateY(-10px) scale(0.9);
  }
  50% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  100% {
    opacity: 0;
    transform: translateY(-10px) scale(0.9);
  }
}

.download-button-pulse {
  animation: downloadPulse 0.5s ease-out;
}

.download-success-badge {
  animation: downloadBadgeFade 2s ease-in-out;
}

@media (prefers-reduced-motion: reduce) {
  .download-button-pulse,
  .download-success-badge {
    animation: none !important;
  }
}

/* Recruiter Mode Animations */
@keyframes recruiterBadgePulse {
  0%, 100% {
    box-shadow: 
      0 0 10px rgba(139, 92, 246, 0.3),
      0 0 20px rgba(34, 211, 238, 0.2);
  }
  50% {
    box-shadow: 
      0 0 20px rgba(139, 92, 246, 0.6),
      0 0 40px rgba(34, 211, 238, 0.4);
  }
}

@keyframes recruiterCardGlow {
  0%, 100% {
    box-shadow: 
      0 0 20px rgba(139, 92, 246, 0.2),
      0 4px 6px -1px rgba(0, 0, 0, 0.1);
  }
  50% {
    box-shadow: 
      0 0 30px rgba(139, 92, 246, 0.4),
      0 0 50px rgba(34, 211, 238, 0.3),
      0 4px 6px -1px rgba(0, 0, 0, 0.1);
  }
}

.recruiter-badge {
  animation: recruiterBadgePulse 2s ease-in-out infinite;
}

.recruiter-card-glow {
  animation: recruiterCardGlow 3s ease-in-out infinite;
}

@media (prefers-reduced-motion: reduce) {
  .recruiter-badge,
  .recruiter-card-glow {
    animation: none !important;
  }
}
